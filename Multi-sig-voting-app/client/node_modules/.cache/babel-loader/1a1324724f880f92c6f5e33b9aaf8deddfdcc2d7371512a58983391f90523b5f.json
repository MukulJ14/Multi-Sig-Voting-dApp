{"ast":null,"code":"'use strict';\n\n// Node has always utf-8\nconst utf8Decoder = new TextDecoder('utf-8');\nconst textDecoders = new Map([['utf-8', utf8Decoder], ['utf8', utf8Decoder]]);\nfunction decodeText(text, textEncoding, destEncoding) {\n  if (text) {\n    if (textDecoders.has(destEncoding)) {\n      try {\n        return textDecoders.get(destEncoding).decode(Buffer.from(text, textEncoding));\n      } catch (e) {}\n    } else {\n      try {\n        textDecoders.set(destEncoding, new TextDecoder(destEncoding));\n        return textDecoders.get(destEncoding).decode(Buffer.from(text, textEncoding));\n      } catch (e) {}\n    }\n  }\n  return text;\n}\nmodule.exports = decodeText;","map":{"version":3,"names":["utf8Decoder","TextDecoder","textDecoders","Map","decodeText","text","textEncoding","destEncoding","has","get","decode","Buffer","from","e","set","module","exports"],"sources":["/Users/mukuljindal/Local/projects/voting/node_modules/@fastify/busboy/lib/utils/decodeText.js"],"sourcesContent":["'use strict'\n\n// Node has always utf-8\nconst utf8Decoder = new TextDecoder('utf-8')\nconst textDecoders = new Map([\n  ['utf-8', utf8Decoder],\n  ['utf8', utf8Decoder]\n])\n\nfunction decodeText (text, textEncoding, destEncoding) {\n  if (text) {\n    if (textDecoders.has(destEncoding)) {\n      try {\n        return textDecoders.get(destEncoding).decode(Buffer.from(text, textEncoding))\n      } catch (e) { }\n    } else {\n      try {\n        textDecoders.set(destEncoding, new TextDecoder(destEncoding))\n        return textDecoders.get(destEncoding).decode(Buffer.from(text, textEncoding))\n      } catch (e) { }\n    }\n  }\n  return text\n}\n\nmodule.exports = decodeText\n"],"mappings":"AAAA,YAAY;;AAEZ;AACA,MAAMA,WAAW,GAAG,IAAIC,WAAW,CAAC,OAAO,CAAC;AAC5C,MAAMC,YAAY,GAAG,IAAIC,GAAG,CAAC,CAC3B,CAAC,OAAO,EAAEH,WAAW,CAAC,EACtB,CAAC,MAAM,EAAEA,WAAW,CAAC,CACtB,CAAC;AAEF,SAASI,UAAUA,CAAEC,IAAI,EAAEC,YAAY,EAAEC,YAAY,EAAE;EACrD,IAAIF,IAAI,EAAE;IACR,IAAIH,YAAY,CAACM,GAAG,CAACD,YAAY,CAAC,EAAE;MAClC,IAAI;QACF,OAAOL,YAAY,CAACO,GAAG,CAACF,YAAY,CAAC,CAACG,MAAM,CAACC,MAAM,CAACC,IAAI,CAACP,IAAI,EAAEC,YAAY,CAAC,CAAC;MAC/E,CAAC,CAAC,OAAOO,CAAC,EAAE,CAAE;IAChB,CAAC,MAAM;MACL,IAAI;QACFX,YAAY,CAACY,GAAG,CAACP,YAAY,EAAE,IAAIN,WAAW,CAACM,YAAY,CAAC,CAAC;QAC7D,OAAOL,YAAY,CAACO,GAAG,CAACF,YAAY,CAAC,CAACG,MAAM,CAACC,MAAM,CAACC,IAAI,CAACP,IAAI,EAAEC,YAAY,CAAC,CAAC;MAC/E,CAAC,CAAC,OAAOO,CAAC,EAAE,CAAE;IAChB;EACF;EACA,OAAOR,IAAI;AACb;AAEAU,MAAM,CAACC,OAAO,GAAGZ,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}
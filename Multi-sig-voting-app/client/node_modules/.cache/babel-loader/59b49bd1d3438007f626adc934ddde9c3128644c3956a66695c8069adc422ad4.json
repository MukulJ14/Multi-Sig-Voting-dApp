{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst wasm_1 = require(\"./wasm\");\n/**\n * Class based SHA256\n */\nclass SHA256 {\n  constructor() {\n    this.ctx = wasm_1.newInstance();\n    this.wasmInputValue = this.ctx.input.value;\n    this.wasmOutputValue = this.ctx.output.value;\n    this.uint8InputArray = new Uint8Array(this.ctx.memory.buffer, this.wasmInputValue, this.ctx.INPUT_LENGTH);\n    this.uint8OutputArray = new Uint8Array(this.ctx.memory.buffer, this.wasmOutputValue, 32);\n  }\n  init() {\n    this.ctx.init();\n    return this;\n  }\n  update(data) {\n    const INPUT_LENGTH = this.ctx.INPUT_LENGTH;\n    if (data.length > INPUT_LENGTH) {\n      for (let i = 0; i < data.length; i += INPUT_LENGTH) {\n        const sliced = data.slice(i, i + INPUT_LENGTH);\n        this.uint8InputArray.set(sliced);\n        this.ctx.update(this.wasmInputValue, sliced.length);\n      }\n    } else {\n      this.uint8InputArray.set(data);\n      this.ctx.update(this.wasmInputValue, data.length);\n    }\n    return this;\n  }\n  final() {\n    this.ctx.final(this.wasmOutputValue);\n    const output = new Uint8Array(32);\n    output.set(this.uint8OutputArray);\n    return output;\n  }\n}\nexports.default = SHA256;","map":{"version":3,"names":["wasm_1","require","SHA256","constructor","ctx","newInstance","wasmInputValue","input","value","wasmOutputValue","output","uint8InputArray","Uint8Array","memory","buffer","INPUT_LENGTH","uint8OutputArray","init","update","data","length","i","sliced","slice","set","final","exports","default"],"sources":["../src/sha256.ts"],"sourcesContent":[null],"mappings":";;;;;AAAA,MAAAA,MAAA,GAAAC,OAAA;AAEA;;;AAGA,MAAqBC,MAAM;EAOzBC,YAAA;IACE,IAAI,CAACC,GAAG,GAAGJ,MAAA,CAAAK,WAAW,EAAE;IACxB,IAAI,CAACC,cAAc,GAAG,IAAI,CAACF,GAAG,CAACG,KAAK,CAACC,KAAK;IAC1C,IAAI,CAACC,eAAe,GAAG,IAAI,CAACL,GAAG,CAACM,MAAM,CAACF,KAAK;IAC5C,IAAI,CAACG,eAAe,GAAG,IAAIC,UAAU,CAAC,IAAI,CAACR,GAAG,CAACS,MAAM,CAACC,MAAM,EAAE,IAAI,CAACR,cAAc,EAAE,IAAI,CAACF,GAAG,CAACW,YAAY,CAAC;IACzG,IAAI,CAACC,gBAAgB,GAAG,IAAIJ,UAAU,CAAC,IAAI,CAACR,GAAG,CAACS,MAAM,CAACC,MAAM,EAAE,IAAI,CAACL,eAAe,EAAE,EAAE,CAAC;EAC1F;EAEAQ,IAAIA,CAAA;IACF,IAAI,CAACb,GAAG,CAACa,IAAI,EAAE;IACf,OAAO,IAAI;EACb;EAEAC,MAAMA,CAACC,IAAgB;IACrB,MAAMJ,YAAY,GAAG,IAAI,CAACX,GAAG,CAACW,YAAY;IAC1C,IAAII,IAAI,CAACC,MAAM,GAAGL,YAAY,EAAE;MAC9B,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,IAAI,CAACC,MAAM,EAAEC,CAAC,IAAIN,YAAY,EAAE;QAClD,MAAMO,MAAM,GAAGH,IAAI,CAACI,KAAK,CAACF,CAAC,EAAEA,CAAC,GAAGN,YAAY,CAAC;QAC9C,IAAI,CAACJ,eAAe,CAACa,GAAG,CAACF,MAAM,CAAC;QAChC,IAAI,CAAClB,GAAG,CAACc,MAAM,CAAC,IAAI,CAACZ,cAAc,EAAEgB,MAAM,CAACF,MAAM,CAAC;;KAEtD,MAAM;MACL,IAAI,CAACT,eAAe,CAACa,GAAG,CAACL,IAAI,CAAC;MAC9B,IAAI,CAACf,GAAG,CAACc,MAAM,CAAC,IAAI,CAACZ,cAAc,EAAEa,IAAI,CAACC,MAAM,CAAC;;IAEnD,OAAO,IAAI;EACb;EAEAK,KAAKA,CAAA;IACH,IAAI,CAACrB,GAAG,CAACqB,KAAK,CAAC,IAAI,CAAChB,eAAe,CAAC;IACpC,MAAMC,MAAM,GAAG,IAAIE,UAAU,CAAC,EAAE,CAAC;IACjCF,MAAM,CAACc,GAAG,CAAC,IAAI,CAACR,gBAAgB,CAAC;IACjC,OAAON,MAAM;EACf;;AAxCFgB,OAAA,CAAAC,OAAA,GAAAzB,MAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}